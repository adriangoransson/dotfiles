#!/usr/bin/env bash
# vim: set ft=sh

if [[ $(uname) != 'Darwin' ]]; then
    echo "OSX only"
    exit 1
fi

INSTALLED=0

command -v brew && INSTALLED=1

if [[ $INSTALLED -eq 0 ]]; then
    echo "# Brew isn't installed! Get it here:"
    echo "open http://brew.sh/"
    exit 1
fi

APPS="\
    curl \
    git \
    htop-osx \
    httpie \
    jq \
    nmap \
    node \
    pv \
    python \
    python3 \
    shellcheck \
    ssh-copy-id \
    the_silver_searcher \
    tig \
    vim \
    vimpager \
    vimpager \
    wget \
    zsh \
"

WITH_OPTS=(\
    "--with-bundle mpv" \
)

brew update
brew upgrade

brew install $APPS

for APP in "${WITH_OPTS[@]}"; do
    brew install $APP
done

brew cleanup
